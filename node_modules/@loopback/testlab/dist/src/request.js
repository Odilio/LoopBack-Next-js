"use strict";
// Copyright IBM Corp. 2017,2018. All Rights Reserved.
// Node module: @loopback/testlab
// This file is licensed under the MIT License.
// License text available at https://opensource.org/licenses/MIT
Object.defineProperty(exports, "__esModule", { value: true });
const http = require("http");
const https = require("https");
const url = require("url");
/**
 * Async wrapper for making HTTP GET requests
 * @param urlString
 */
function httpGetAsync(urlString) {
    return new Promise((resolve, reject) => {
        http.get(urlString, resolve).on('error', reject);
    });
}
exports.httpGetAsync = httpGetAsync;
/**
 * Async wrapper for making HTTPS GET requests
 * @param urlString
 */
function httpsGetAsync(urlString) {
    const agent = new https.Agent({
        rejectUnauthorized: false,
    });
    const urlOptions = url.parse(urlString);
    const options = Object.assign({ agent }, urlOptions);
    return new Promise((resolve, reject) => {
        https.get(options, resolve).on('error', reject);
    });
}
exports.httpsGetAsync = httpsGetAsync;
//# sourceMappingURL=request.js.map